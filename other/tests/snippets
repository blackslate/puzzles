

  function replaceJSorCSSfile(fileName) {
    var index = fileName.lastIndexOf(".") + 1
    if (!index) {
      return
    }
    var type = fileName.substring(index).toLowerCase()
    var id
      , attribute
      , elementType
      , type
      , parent
      , element

    switch (type) {
      case "js":
        id = "#puzzle_js"
        // elementType = "script"
        // type = "text/javascript"
        // type = "script"
        attribute = "src"
      break
      case "css":
        id = "#puzzle_css"
        // elementType = "link"
        // type = "text/css"
        attribute = "href"
      break
      default:
        return
    }

    current = document.querySelector(id)
    parent = current.parentNode
    replacement = cloneElement(current, attribute, fileName)
    //replacement = createHTMLElement(fileName, elementType, type, attr)
    parent.replaceChild(replacement, current)

    function cloneElement(element, attribute, filename) {
      element = element.cloneNode()
      element.setAttribute(attribute, filename)
      return element
    }

    // function createHTMLElement(filename, elementType, type, attr){
    //   var element

    //   element = document.createElement(elementType)
    //   element.setAttribute("type", type)
    //   element.setAttribute(attr, filename)
      
    //   if (elementType === "link"){
    //     element.setAttribute("rel", "stylesheet")
    //   }
      
    //   return element
    // }
  }

  // function replaceJSorCSSfile(fileName) {
  //   var index = fileName.lastIndexOf(".") + 1
  //   if (!index) {
  //     return
  //   }
  //   var type = fileName.substring(index).toLowerCase()
  //   var id
  //     , attribute
  //     , elementType
  //     , type
  //     , parent
  //     , element

  //   switch (type) {
  //     case "js":
  //       id = "#puzzle_js"
  //       // elementType = "script"
  //       // type = "text/javascript"
  //       // type = "script"
  //       attribute = "src"
  //     break
  //     case "css"
  //       id = "#puzzle_css"
  //       // elementType = "link"
  //       // type = "text/css"
  //       attribute = "href"
  //     break
  //     default:
  //       return
  //   }

  //   current = document.querySelector(id)
  //   parent = current.parentNode
  //   replacement = cloneElement(current, attribute, fileName)
  //   //replacement = createHTMLElement(fileName, elementType, type, attr)
  //   parent.replaceChild(replacement, current)

  //   function cloneElement(element, attribute, filename) {
  //     element = element.cloneNode()
  //     element.setAttribute(attribute, filename)
  //     return element
  //   }

  //   // function createHTMLElement(filename, elementType, type, attr){
  //   //   var element

  //   //   element = document.createElement(elementType)
  //   //   element.setAttribute("type", type)
  //   //   element.setAttribute(attr, filename)
      
  //   //   if (elementType === "link"){
  //   //     element.setAttribute("rel", "stylesheet")
  //   //   }
      
  //   //   return element
  //   // }
  // }